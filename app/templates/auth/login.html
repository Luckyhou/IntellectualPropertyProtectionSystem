{% extends 'base.html' %}

{% block title %}
    登录
{% endblock %}

{#{% block styles %}#}
{#    {{ super() }}#}
{#    <!-- iCheck -->#}
{#    <link rel="stylesheet" href="{{ url_for('static', filename='adminlte/plugins/iCheck/square/blue.css') }} ">#}
{##}
{#{% endblock %}#}

{% block body_attribs %}
    hold-transition skin-blue layout-top-nav login-page
{% endblock %}

{% block content_header %}
{% endblock %}

{% block content %}
    <div class="login-box">
        {#  <div class="login-logo">#}
        {#    <a href="{{ url_for('main.index') }}"><b>Admin</b>LTE</a>#}
        {#  </div>#}
        <!-- /.login-logo -->

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% for category, message in messages %}
            {% if category == 'message' %}
                <div class="alert alert-info alert-dismissible">
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                    <i class="icon fa fa-info"></i> {{ message }}
                </div>
            {% elif category == 'success' %}
                <div class="alert alert-success alert-dismissible">
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                    <i class="icon fa fa-check"></i> {{ message }}
                </div>
            {% elif category == 'warn' %}
                <div class="alert alert-warning alert-dismissible">
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                    <i class="icon fa fa-warning"></i> {{ message }}
                </div>
            {% elif category == 'error' %}
                <div class="alert alert-error alert-dismissible">
                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                    <i class="icon fa fa-ban"></i> {{ message }}
                </div>
            {% endif %}
        {% endfor %}
    {% endwith %}

        <div class="login-box-body">
            <p class="login-box-msg">用户登录</p>

            <form action="{{ url_for('.login') }}" method="post">

                {% import "bootstrap/wtf.html" as wtf %}

                {{ form.hidden_tag() }}

                {#        {{ form.username() }}#}

                {#        {{ wtf.form_field(form.username) }}#}

                {{ wtf.quick_form(form, button_map={'submit':'primary btn-flat'}) }}

                {#      <div class="form-group has-feedback">#}
                {#        <input type="text" class="form-control" placeholder="Username" id="username" name="username">#}
                {#        <span class="glyphicon glyphicon-envelope form-control-feedback"></span>#}
                {#      </div>#}
                {#      <div class="form-group has-feedback">#}
                {#        <input type="password" class="form-control" placeholder="Password" id="password" name="password">#}
                {#        <span class="glyphicon glyphicon-lock form-control-feedback"></span>#}
                {#      </div>#}
                {#      <div class="row">#}
                {#        <div class="col-xs-8">#}
                {#          <div class="checkbox icheck">#}
                {#            <label>#}
                {#              <input type="checkbox" id="remember_me" name="remember_me"> Remember Me#}
                {#            </label>#}
                {#          </div>#}
                {#        </div>#}
                {#        <!-- /.col -->#}
                {#        <div class="col-xs-4">#}
                {#          <button type="submit" class="btn btn-primary btn-block btn-flat">Sign In</button>#}
                {#        </div>#}
                {#        <!-- /.col -->#}
                {#      </div>#}
            </form>

            {#    <div class="social-auth-links text-center">#}
            {#      <p>- OR -</p>#}
            {#      <a href="#" class="btn btn-block btn-social btn-facebook btn-flat"><i class="fa fa-facebook"></i> Sign in using#}
            {#        Facebook</a>#}
            {#      <a href="#" class="btn btn-block btn-social btn-google btn-flat"><i class="fa fa-google-plus"></i> Sign in using#}
            {#        Google+</a>#}
            {#    </div>#}
            <!-- /.social-auth-links -->

            <p style="margin-top: 15px">
                <a href="#">忘记密码</a><br>
            </p>
            <p style="margin-top: 15px">
                <a href="{{ url_for('.register') }}">注册新用户</a>
            </p>

        </div>
        <!-- /.login-box-body -->
    </div>
    <!-- /.login-box -->
{% endblock %}

{#{% block scripts %}#}
{#    {{ super() }}#}
{#    <!-- iCheck -->#}
{#    <script src="{{ url_for('static', filename='adminlte/plugins/iCheck/icheck.min.js') }} "></script>#}
{#    <script>#}
{#        $(function () {#}
{#            $('input').iCheck({#}
{#                checkboxClass: 'icheckbox_square-blue',#}
{#                radioClass: 'iradio_square-blue',#}
{#                increaseArea: '20%' // optional#}
{#            });#}
{#        });#}
{#    </script>#}
{#{% endblock %}#}